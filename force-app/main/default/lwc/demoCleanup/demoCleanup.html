<!--
  Copyright (c) 2022, salesforce.com, inc.
  All rights reserved.
  SPDX-License-Identifier: BSD-3-Clause
  For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause

  Contact: john.meyer@salesforce.com
-->

<template>
	<lightning-card>
		<template if:true={spinnerVisible}>
			<lightning-spinner variant="brand" size="medium" title="Working ..." alternative-text="Working ..."></lightning-spinner>
		</template>

		<header slot="title" class="slds-media slds-media_center">
			<div class="slds-media__figure slds-icon_container">
				<!-- prettier-ignore -->
				<svg class="slds-icon slds-icon_small" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 400 400" style="enable-background:new 0 0 400 400;" xml:space="preserve">
					<g>
						<path fill="#07844b" d="M350,400H50c-27.6,0-50-22.4-50-50V50C0,22.4,22.4,0,50,0h300c27.6,0,50,22.4,50,50v300
						C400,377.6,377.6,400,350,400z"></path>
					</g>
					<path fill="FFFFFF" d="M321.1,59c-5.2,0.1-10,2.1-12.8,6.3l-43.6,82.2c3.3,1.1,10.5,4.4,34.7,15.3l0.4,0.2
						c4.2,1.9,7.4,3.3,8.6,3.8c0.5,0.2,0.8,0.5,1.3,0.7l31.8-88.1c2-7-3-15-11-18.2C327.5,59.6,324.3,58.9,321.1,59z M77,104.9
						c-12.7,0-23,10.4-23,23s10.4,23,23,23s23-10.4,23-23S89.7,104.9,77,104.9z M128.7,122.1c-6.4,0-11.5,5.2-11.5,11.5
						c0,6.4,5.2,11.5,11.5,11.5c6.4,0,11.5-5.3,11.5-11.6C140.3,127.2,135.1,122.1,128.7,122.1z M239,154.4c-11.2,0.8-20.8,6.4-27.7,16
						c4.4,7.4,11.9,16.3,22.6,16c2.8-0.1,5.2,1.9,5.7,4.6c2.2,3.4,15.5,9.4,19.4,7.9c1.6-0.6,3.4-0.5,4.8,0.4c1.5,0.8,2.6,2.3,2.9,4
						c0.3,0.9,2.7,4.3,7.9,6.6c4.1,1.9,8,2.4,10.3,1.3c1.5-0.7,3-0.7,4.4-0.2c1.5,0.5,2.8,1.7,3.5,3.3c3.9,9.4,21.6,10.2,33.8,9.2
						c1.8-7.7,1.3-15.7-1.5-23.2c-3.8-10.3-11.4-18.3-21.6-23c-1.1-0.5-4.5-2.1-9-4.2c-20.5-9.3-32.1-14.3-34.3-14.9
						C252.9,155.3,245.6,153.9,239,154.4z M120.1,162.3c-17.4,0-31.6,14.2-31.6,31.6s14.2,31.6,31.6,31.6s31.6-14.2,31.6-31.6
						C151.8,176.5,137.6,162.3,120.1,162.3z M205.2,182c-1.8,4.3-3.8,8.3-5.9,12.1c2.5,6,9.8,20,23.2,16.9c1.5-0.4,3.2-0.2,4.4,0.7
						c1.4,0.9,2.1,2.2,2.4,3.8c0.4,2.2,2.9,4.7,6.4,6.6c5,2.7,10.4,3.4,12.8,2.4c1.5-0.6,3.2-0.7,4.6,0c1.5,0.7,2.6,2,3.1,3.6
						c0.8,2.7,3.6,5.5,7.5,7.5c4.6,2.4,9.9,3.2,13.3,2c2.6-0.9,5.4,0.2,6.8,2.7c5.1,9.4,21.8,10.4,34.7,9.5c1.6-4.6,3.2-9.4,4.6-14.5
						c-1.5,0.1-3.2,0.2-4.8,0.2c-12.1,0-26.4-2.4-33.6-12.3c-4.8,0.6-10.4-0.4-16-3.3c-4.1-2.1-8.5-5.3-11.2-9.2c-7.4,0-15.7-4.1-20-6.6
						c-3.3-2-5.8-4-7.4-6.1C218.9,196.9,210.7,189.4,205.2,182z M192,205.3c-35.7,49.6-96.5,48.1-97.3,48c-2.3-0.2-4.4,1-5.5,3.1
						c-1.1,2-0.9,4.4,0.5,6.3c10.3,12.7,21.3,23.4,32.5,32.5c5.3,1.1,38.7,5.8,71.7-32.5c2.1-2.4,5.7-2.6,8.1-0.5
						c2.4,2.1,2.6,5.7,0.5,8.1c-23.1,26.7-47.4,35.1-64.4,36.9c14.2,9.5,28.5,16.8,41.9,22.2c8.4-1.8,37-10.3,62.2-48.7
						c1.7-2.6,5.4-3.5,8.1-1.8s3.4,5.4,1.6,8.1c-19,29-39.8,42.6-54.5,48.9c29.9,9.7,52.2,10.5,54.1,10.6h0.2c1.1,0,2.2-0.4,3.1-0.9
						c1.6-1,35-22.8,59.3-83.9c-0.9,0-1.9,0.2-2.9,0.2c-12.6,0-27.2-2.5-35.1-12.4c-5.5,0.7-12-0.6-17.8-3.6c-4.8-2.5-8.5-5.7-11-9.5
						c-6.1,0.5-12.7-1.6-17.3-4.2c-4.6-2.5-8.4-5.7-10.4-9.4C206.7,223.5,197.5,214.5,192,205.3z"></path>
				</svg>
			</div>
			<div class="slds-media__body">
				<h2><strong>{cardTitle}</strong></h2>
			</div>
		</header>

		<div slot="actions">
			<lightning-button-icon-stateful
				variant="neutral"
				icon-name="utility:question"
				selected={helpSectionVisible}
				onclick={handleHelpButton}
			></lightning-button-icon-stateful>
		</div>

		<p class="slds-p-horizontal_large slds-hyphenate">
			Delete any spurious or temporary records that were created during a demo or during testing, leaving the org in a clean
			state for the next demo.
		</p>
		<template if:false={cleanupTasksEmpty}>
			<template if:true={tooManySoqlCleanupTasks}>
				<div class="slds-illustration slds-illustration_small">
					<!-- prettier-ignore -->
					<svg class="slds-illustration__svg" viewBox="0 0 454 212" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
							<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
							  <g transform="translate(-70.000000, -95.000000)">
								<g>
								  <g transform="translate(124.500000, 222.000000)">
									<g fill="#FFFFFF">
									  <path vector-effect="non-scaling-stroke" d="M18.9209988,1.95433401 L33.259296,51.443436 C33.5666778,52.5043744 32.9557995,53.613617 31.8948612,53.9209988 C31.7139843,53.9734036 31.5266126,54 31.3382972,54 L2.6617028,54 C1.5571333,54 0.661702805,53.1045695 0.661702805,52 C0.661702805,51.8116846 0.688299176,51.6243129 0.74070397,51.443436 L15.0790012,1.95433401 C15.386383,0.893395645 16.4956256,0.282517358 17.556564,0.589899164 C18.2152102,0.780726338 18.7301717,1.29568777 18.9209988,1.95433401 Z"></path>
									</g>
									<g class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3">
									  <polygon vector-effect="non-scaling-stroke" stroke-linejoin="round" points="17 0.323943662 34 54 -1.81721305e-12 54"></polygon>
									  <path vector-effect="non-scaling-stroke" d="M17,4.6953125 C17,43.0456294 17,62.6471919 17,63.5 C17,62.6471919 17,43.0456294 17,4.6953125 Z"></path>
									  <path vector-effect="non-scaling-stroke" d="M17,29.3239437 C22.3333333,35.7851611 25,39.1184944 25,39.3239437 C25,39.1184944 22.3333333,35.7851611 17,29.3239437 Z" stroke-linejoin="round" transform="translate(21.000000, 34.323944) scale(-1, 1) translate(-21.000000, -34.323944) "></path>
									</g>
								  </g>
								  <g transform="translate(145.000000, 194.000000)">
									<g transform="translate(1.000000, 0.000000)" fill="#FFFFFF">
									  <path vector-effect="non-scaling-stroke" d="M25.6478873,0 L50.879042,84.4273253 C51.1953215,85.4856452 50.5937789,86.5999782 49.535459,86.9162577 C49.3496374,86.9717906 49.1567264,87 48.9627843,87 L2.33299037,87 C1.22842087,87 0.332990367,86.1045695 0.332990367,85 C0.332990367,84.8060578 0.361199757,84.6131469 0.416732643,84.4273253 L25.6478873,0 Z"></path>
									</g>
									<g class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3">
									  <polygon vector-effect="non-scaling-stroke" stroke-linejoin="round" points="26.5 0 52.5 87 0.5 87"></polygon>
									  <path vector-effect="non-scaling-stroke" d="M26.5,2.58642578 C26.5,61.0261034 26.5,90.9972948 26.5,92.5 C26.5,90.9972948 26.5,61.0261034 26.5,2.58642578 Z"></path>
									  <path vector-effect="non-scaling-stroke" d="M15.6478873,42 C22.314554,49.078692 25.6478873,52.7453587 25.6478873,53 C25.6478873,52.7453587 22.314554,49.078692 15.6478873,42 Z" stroke-linejoin="round"></path>
									  <path vector-effect="non-scaling-stroke" d="M27.6478873,68 C36.9812207,57.078692 41.6478873,51.7453587 41.6478873,52 C41.6478873,51.7453587 36.9812207,57.078692 27.6478873,68 Z" stroke-linejoin="round"></path>
									</g>
								  </g>
								  <g transform="translate(404.500000, 245.000000) scale(-1, 1) translate(-404.500000, -245.000000) translate(348.000000, 226.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
									<g>
									  <polyline vector-effect="non-scaling-stroke" points="0 38 47.5 0 80.5 26"></polyline>
									  <polyline vector-effect="non-scaling-stroke" points="71 17 80.5 9 113 36"></polyline>
									</g>
								  </g>
								  <g transform="translate(72.000000, 262.500000)">
									<path vector-effect="non-scaling-stroke" d="M153.962142,26.4644491 C151.225735,20.0143094 144.944776,15.5029106 137.633892,15.5029106 C135.619663,15.5029106 133.683612,15.8453541 131.878328,16.4764392 C128.451481,11.1704266 122.567406,7.66985447 115.883789,7.66985447 C109.491267,7.66985447 103.830159,10.8721423 100.350851,15.7935668 C98.9589956,14.968161 97.3423157,14.4956341 95.6177606,14.4956341 C94.1083143,14.4956341 92.6815102,14.8576334 91.4157672,15.5014039 C87.9975328,6.58722215 79.5098304,0.275259875 69.5804557,0.275259875 C60.4632836,0.275259875 52.5615782,5.59684366 48.6837305,13.3681823 C46.3912034,12.266973 43.8314865,11.6515593 41.1312741,11.6515593 C32.4373504,11.6515593 25.1998844,18.0312998 23.6476214,26.4644491 L153.962142,26.4644491 Z"
									  class="slds-illustration__fill-secondary"></path>
									<path vector-effect="non-scaling-stroke" d="M13,25 L143,25" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round"></path>
									<path vector-effect="non-scaling-stroke" d="M0,25 L450,25" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round"></path>
								  </g>
								  <g transform="translate(344.000000, 247.000000)">
									<g transform="translate(0.293436, 0.054545)">
									  <path vector-effect="non-scaling-stroke" d="M165.428708,41.9454545 L0.0995432562,41.9454545 C0.0336614956,41.2089487 0,40.4630069 0,39.7090909 C0,26.2132599 10.7866531,15.2727273 24.0926641,15.2727273 C27.7492016,15.2727273 31.215485,16.0989227 34.3199502,17.5772977 C39.5712028,7.14424616 50.271428,0 62.6175975,0 C76.0636257,0 87.5573893,8.47383452 92.1862485,20.441159 C93.9002755,19.5768947 95.8324059,19.0909091 97.8764479,19.0909091 C100.211783,19.0909091 102.401037,19.7252784 104.285841,20.8333889 C108.997403,14.2263569 116.663488,9.92727273 125.320028,9.92727273 C138.043441,9.92727273 148.627152,19.2146805 150.834755,31.4671412 C151.487388,31.3631046 152.156394,31.3090909 152.837838,31.3090909 C159.117096,31.3090909 164.340238,35.8953699 165.428708,41.9454545 Z"
										class="slds-illustration__fill-secondary"></path>
									  <path vector-effect="non-scaling-stroke" d="M32.7065637,40.4454545 L173.706564,40.4454545" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round"></path>
									</g>
								  </g>
								  <g transform="translate(105.000000, 203.000000)">
									<g transform="translate(106.000000, 0.000000)" fill="#FFFFFF">
									  <polygon vector-effect="non-scaling-stroke" points="121.5 48.5 158.5 48.5 158.5 34.5 47.5 34.5 47.5 48.5 93.5 48.5 93.5 69.5 121.5 69.5 121.5 48.5"></polygon>
									  <path vector-effect="non-scaling-stroke" d="M33.9882812,0.21875 C36.5611979,0.21875 70.6126302,0.21875 136.142578,0.21875 L152.384766,11.1132813 C155.083088,16.811292 155.656656,19.677503 154.105469,19.7119141 C152.554281,19.7463252 116.293865,17.6717809 45.3242187,13.4882812 C35.1940104,4.64192708 31.4153646,0.21875 33.9882812,0.21875 Z"></path>
									  <path vector-effect="non-scaling-stroke" d="M32.6708984,2.02246094 L21.5554199,0.374195518 L17.6036034,0.374195518 L5.77148437,7.90429688 C3.09089817,12.6737672 3.09089817,15.2284547 5.77148437,15.5683594 C8.45207058,15.9082641 16.1278518,14.3268839 28.7988281,10.8242188 L42.9921875,7.90429688 L41.0699892,5.68448183 L32.6708984,2.02246094 Z"></path>
									  <rect x="0" y="34" width="48" height="14"></rect>
									</g>
									<g transform="translate(106.000000, 5.000000)" class="slds-illustration__fill-secondary">
									  <polygon vector-effect="non-scaling-stroke" points="93.3109375 43.4566406 93.3109375 64.6722656 120.925 64.6722656 121.823047 44.1324219 158.5 43.4566406 158.5 97.5 48.5 97.5 48.5 43.6933594"></polygon>
									  <path vector-effect="non-scaling-stroke" d="M132.670898,7.66300119e-19 C125.172201,-2.55433373e-19 94.1907552,-2.55433373e-19 39.7265625,7.66300119e-19 L31.8183594,12.5058594 L29.7050781,28.2714844 L157.78125,28.2714844 L157.78125,15.4775391 C148.539714,5.15917969 140.169596,1.78803361e-18 132.670898,7.66300119e-19 Z"></path>
									  <path vector-effect="non-scaling-stroke" d="M37.8266602,0 C34.4632704,0 29.4181858,0 22.6914062,0 C16.1624349,0 9.53808594,3.83528646 2.81835938,11.5058594 L0.705078125,30.2714844 L48.4101562,30.2714844 L48.4101562,14.4775391 L48.1789909,12.3275853 C43.283405,4.10919509 39.832628,0 37.8266602,0 Z"></path>
									  <rect x="0.5" y="43.5" width="48" height="54"></rect>
									</g>
									<g>
									  <rect class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" x="154.5" y="34.5" width="110" height="68"></rect>
									  <polygon vector-effect="non-scaling-stroke" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" points="264.5 48.5 264.5 34.5 154.5 34.5 154.5 48.5 199.5 48.5 199.5 69.5 227.5 69.5 227.5 48.5"></polygon>
									  <path vector-effect="non-scaling-stroke" d="M130.5,0.5 L234.5,0.5 C251.068542,0.5 264.5,13.9314575 264.5,30.5 L264.5,34.5 L106.5,34.5 L106.5,24.5 C106.5,11.245166 117.245166,0.5 130.5,0.5 Z" class="slds-illustration__stroke-primary"
										stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
									  <path vector-effect="non-scaling-stroke" d="M130.5,0.5 L130.5,0.5 C143.754834,0.5 154.5,11.245166 154.5,24.5 L154.5,34.5 L106.5,34.5 L106.5,24.5 C106.5,11.245166 117.245166,0.5 130.5,0.5 Z" class="slds-illustration__stroke-primary"
										stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
									  <rect class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" x="106.5" y="48.5" width="48" height="54"></rect>
									  <rect class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" x="106.5" y="34.5" width="48" height="14"></rect>
									  <path vector-effect="non-scaling-stroke" d="M219,52 C219,54.765 216.765,57 214,57 C211.235,57 209,54.765 209,52 C209,49.235 211.235,47 214,47 C216.765,47 219,49.235 219,52 Z" class="slds-illustration__fill-primary"></path>
									  <path vector-effect="non-scaling-stroke" d="M214,55 L214,60" class="slds-illustration__stroke-primary" stroke-width="4" stroke-linecap="round"></path>
									  <circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="164" cy="58" r="3"></circle>
									  <circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="164" cy="93" r="3"></circle>
									  <circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="255" cy="58" r="3"></circle>
									  <circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="255" cy="93" r="3"></circle>
									  <circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="145" cy="58" r="3"></circle>
									  <circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="145" cy="93" r="3"></circle>
									  <circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="116" cy="58" r="3"></circle>
									  <circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="116" cy="93" r="3"></circle>
									  <path vector-effect="non-scaling-stroke" d="M289.928751,82.2971422 L298,102.518658 L280,102.518658 L288.071249,82.2971422 C288.275982,81.784207 288.857768,81.5343604 289.370703,81.7390942 C289.625359,81.8407378 289.827108,82.0424867 289.928751,82.2971422 Z"
										class="slds-illustration__fill-primary"></path>
									  <path vector-effect="non-scaling-stroke" d="M300.428751,89.8132712 L305.5,102.518658 L293.5,102.518658 L298.571249,89.8132712 C298.775982,89.300336 299.357768,89.0504894 299.870703,89.2552232 C300.125359,89.3568668 300.327108,89.5586158 300.428751,89.8132712 Z"
										class="slds-illustration__fill-primary"></path>
									  <path vector-effect="non-scaling-stroke" d="M93.4287513,82.2971422 L101.5,102.518658 L83.5,102.518658 L91.5712487,82.2971422 C91.7759825,81.784207 92.3577681,81.5343604 92.8707033,81.7390942 C93.1253588,81.8407378 93.3271077,82.0424867 93.4287513,82.2971422 Z"
										class="slds-illustration__fill-primary" transform="translate(92.500000, 92.517446) scale(-1, 1) translate(-92.500000, -92.517446) "></path>
									  <path vector-effect="non-scaling-stroke" d="M76.9287513,89.8132712 L82,102.518658 L70,102.518658 L75.0712487,89.8132712 C75.2759825,89.300336 75.8577681,89.0504894 76.3707033,89.2552232 C76.6253588,89.3568668 76.8271077,89.5586158 76.9287513,89.8132712 Z"
										class="slds-illustration__fill-primary" transform="translate(76.000000, 96.275510) scale(-1, 1) translate(-76.000000, -96.275510) "></path>
									  <path vector-effect="non-scaling-stroke" d="M360,102.5 L372,102.5" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
									  <path vector-effect="non-scaling-stroke" d="M0,102.5 L350,102.5" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
									</g>
								  </g>
								  <g transform="translate(150.000000, 96.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3">
									<path vector-effect="non-scaling-stroke" d="M44,17.5 L63,17.5 C62.2789714,12.0723971 64.081543,7.53186978 68.4077148,3.87841797 C73.3754883,-0.195556641 79.2734375,0.717773438 82.440918,2.12353516 C85.6083984,3.52929687 87.9606934,5.46069336 89.5913086,9.10524041 C90.2822266,10.6397351 90.7517904,11.9379883 91,13"></path>
									<path vector-effect="non-scaling-stroke" d="M83,20.5 C84.0558268,16.8461914 86.2227376,14.4572754 89.5007324,13.333252 C94.4177246,11.6472168 99.0800781,13.8925781 100.942383,16.1518555 C102.804687,18.4111328 103.39502,20.2260742 103.746582,22.1201172 C103.980957,23.3828125 104.06543,24.8427734 104,26.5 C108.141764,26.3313802 110.918945,27.1647135 112.331543,29 C114.040039,31.1936035 114.215332,33.817627 113.593018,35.75 C112.970703,37.682373 110.894531,40.5 107,40.5 L28,40.5"></path>
									<path vector-effect="non-scaling-stroke" d="M18,27.5 L83.0004985,27.5"></path>
									<path vector-effect="non-scaling-stroke" d="M0,27.5 L8,27.5"></path>
								  </g>
								  <g transform="translate(271.000000, 135.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3">
									<g>
									  <path vector-effect="non-scaling-stroke" d="M44,17.5 L63,17.5 C62.2789714,12.0723971 64.081543,7.53186978 68.4077148,3.87841797 C73.3754883,-0.195556641 79.2734375,0.717773438 82.440918,2.12353516 C85.6083984,3.52929687 87.9606934,5.46069336 89.5913086,9.10524041 C90.2822266,10.6397351 90.7517904,11.9379883 91,13"></path>
									  <path vector-effect="non-scaling-stroke" d="M83,20.5 C84.0558268,16.8461914 86.2227376,14.4572754 89.5007324,13.333252 C94.4177246,11.6472168 99.0800781,13.8925781 100.942383,16.1518555 C102.804687,18.4111328 103.39502,20.2260742 103.746582,22.1201172 C103.980957,23.3828125 104.06543,24.8427734 104,26.5 C108.141764,26.3313802 110.918945,27.1647135 112.331543,29 C114.040039,31.1936035 114.215332,33.817627 113.593018,35.75 C112.970703,37.682373 110.894531,40.5 107,40.5 L28,40.5"></path>
									  <path vector-effect="non-scaling-stroke" d="M18,27.5 L83.0004985,27.5"></path>
									  <path vector-effect="non-scaling-stroke" d="M0,27.5 L8,27.5"></path>
									</g>
								  </g>
								  <g transform="translate(402.000000, 164.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3">
									<g transform="translate(31.713442, 25.088326) rotate(-15.000000) translate(-31.713442, -25.088326) translate(4.713442, 6.588326)">
									  <path vector-effect="non-scaling-stroke" d="M31.0360707,3.43528591 C31.0360707,3.43528591 40.5802283,0.671893051 42.6488424,10.6908663" transform="translate(36.842457, 6.888440) rotate(41.000000) translate(-36.842457, -6.888440) "></path>
									  <path vector-effect="non-scaling-stroke" d="M40.4282002,10.1797377 C40.4282002,10.1797377 49.9723578,7.4163448 52.0409719,17.435318" transform="translate(46.234586, 13.632892) scale(-1, 1) rotate(-41.000000) translate(-46.234586, -13.632892) "></path>
									  <path vector-effect="non-scaling-stroke" d="M0.730284783,29.5865514 C0.730284783,29.5865514 10.2744424,26.8231586 12.3430565,36.8421318"></path>
									  <path vector-effect="non-scaling-stroke" d="M12.7302848,29.5865514 C12.7302848,29.5865514 22.2744424,26.8231586 24.3430565,36.8421318" transform="translate(18.536671, 33.039705) scale(-1, 1) translate(-18.536671, -33.039705) "></path>
									</g>
								  </g>
								</g>
							  </g>
							</g>
					</svg>
					<div class="slds-var-p-around_large slds-text-longform">
						<h3 class="slds-text-heading_medium">You have an embarrassment of riches</h3>
						<div class="slds-var-p-bottom_medium slds-text-body_regular slds-text-align_center">
							The maximum number of SOQL cleanup tasks to stay within the Salesforce governor limits is&nbsp;
							<lightning-formatted-number value={maximumSoqlCleanupTasks}> </lightning-formatted-number> &nbsp;and you
							have&nbsp;
							<lightning-formatted-number value={numberOfSoqlCleanupTasks}> </lightning-formatted-number>
							.
						</div>
						<div class="slds-var-p-bottom_medium slds-text-body_regular slds-text-align_center">
							You can delete or de-activate tasks from the Demo Cleanup Tasks tab.
						</div>
						<lightning-button
							variant="brand"
							label="Take Me There"
							title="Go to the Demo Cleanup Tasks tab"
							onclick={handleGoToDemoCleanupTasksButton}
						>
						</lightning-button>
					</div>
				</div>
			</template>
			<template if:false={TooManySoqlCleanupTasks}>
				<section class="slds-var-p-top_medium slds-p-horizontal_large">
					<lightning-layout horizontal-align="spread" vertical-align="center">
						<lightning-layout-item
							size="6"
							class="slds-text-body_small slds-text-color_weak slds-text-align_left slds-trucate"
						>
							<em> Drag and drop the rows in the list to re-order them. Click the&nbsp; </em>
							<lightning-icon icon-name="utility:preview" size="x-small"></lightning-icon>
							<em> &nbsp;icon on a task to see a preview of the records to be deleted. </em>
						</lightning-layout-item>
						<lightning-layout-item size="6" class="slds-text-align_right">
							<div>
								<lightning-icon
									class="slds-p-right_x-small"
									icon-name="utility:new_window"
									size="xx-small"
								></lightning-icon>
								<lightning-formatted-url
									label="Go to the Demo Cleanup Tasks list"
									value={cleanupTaskListViewUrl}
									target="_parent"
								></lightning-formatted-url>
							</div>
						</lightning-layout-item>
					</lightning-layout>
				</section>
				<section class="slds-var-p-vertical_x-small slds-p-horizontal_large">
					<table
						data-id="cleanup-task-list"
						class="slds-table slds-no-row-hover slds-table_bordered slds-border_left slds-border_right"
						aria-label="Table of Demo Cleanup Tasks"
						aria-multiselectable="true"
						role="grid"
					>
						<thead>
							<tr class="slds-line-height_reset">
								<th scope="col"></th>
								<th scope="col">
									<lightning-input
										type="checkbox"
										checked={selectAll}
										label="Select All"
										variant="label-hidden"
										title="Select or deselect all of the valid Demo Cleanup Tasks below"
										onchange={handleSelectAll}
									></lightning-input>
								</th>
								<th scope="col" class="slds-text-align_center">Records</th>
								<th scope="col" class="slds-text-align_center">Type</th>
								<th scope="col" class="slds-text-align_center">Demo Cleanup Task</th>
								<th scope="col">
									<lightning-icon icon-name="utility:success" size="x-small"></lightning-icon>
								</th>
							</tr>
						</thead>
						<tbody>
							<template for:each={cleanupTasks} for:item="ct">
								<tr
									draggable={draggable}
									key={ct.itemId}
									data-id={ct.itemId}
									ondragstart={handleDragStart}
									ondragenter={handleDragEnter}
									ondragend={handleDragEnd}
									aria-selected={ct.itemSelected}
								>
									<td>
										<template if:true={draggable}>
											<lightning-icon
												icon-name="utility:drag_and_drop"
												size="xx-small"
												title="Click, hold, and drag this task to the appropriate place in the list"
											></lightning-icon>
										</template>
									</td>
									<td>
										<div class="slds-grid">
											<div class="slds-col slds-size_6-of-12">
												<lightning-input
													type="checkbox"
													checked={ct.itemSelected}
													disabled={ct.itemCheckboxDisabled}
													label={ct.itemId}
													variant="label-hidden"
													title={ct.itemCheckboxToolTip}
													data-id={ct.itemId}
													data-type="cleanup-task-checkbox"
													class="slds-align_absolute-center"
													onchange={handleRowSelection}
												></lightning-input>
											</div>
											<div class="slds-col slds-size_6-of-12">
												<template if:true={ct.itemShowPreviewButton}>
													<lightning-button-icon
														icon-name="utility:preview"
														type="button"
														variant="bare"
														size="medium"
														alternative-text="Preview the records to be deleted by this task"
														title="Preview the records to be deleted by this task"
														data-id={ct.itemId}
														onclick={handlePreviewButton}
													></lightning-button-icon>
												</template>
											</div>
										</div>
									</td>
									<td class="slds-text-align_right">
										<lightning-formatted-number value={ct.itemRemaining}></lightning-formatted-number>
									</td>
									<td>
										<lightning-icon
											icon-name={ct.itemIcon}
											size="xx-small"
											variant={ct.itemIconVariant}
											title={ct.itemIconToolTip}
											class="slds-align_absolute-center"
										></lightning-icon>
									</td>
									<td class="slds-cell-wrap">
										<lightning-formatted-url
											value={ct.itemLink}
											label={ct.itemDescription}
											tooltip={ct.itemToolTip}
											target="_parent"
										></lightning-formatted-url>
										<template if:true={ct.itemShowProgress}>
											<template if:true={ct.itemIsSOQL}>
												<lightning-layout vertical-align="center" class="slds-var-p-vertical_medium">
													<lightning-layout-item size="3" class="slds-text-align_right slds-truncate">
														<lightning-formatted-number
															value={ct.itemRunningTotal}
														></lightning-formatted-number>
														&nbsp;/&nbsp;
														<lightning-formatted-number
															value={ct.itemCount}
														></lightning-formatted-number>
													</lightning-layout-item>
													<lightning-layout-item size="6" padding="horizontal-small" flexibility="auto">
														<lightning-progress-bar
															size="large"
															variant="circular"
															value={ct.itemPercentage}
															aria-valuemin="0"
															aria-valuemax={ct.itemCount}
															aria-valuenow={ct.itemRunningTotal}
															role="progressbar"
														></lightning-progress-bar>
													</lightning-layout-item>
													<lightning-layout-item
														size="3"
														class="slds-text-align_left slds-text-color_error slds-truncate"
													>
														<template if:true={ct.itemHasErrors}>
															<lightning-formatted-number
																value={ct.itemNumberOfErrors}
															></lightning-formatted-number>
															&nbsp;error(s)
														</template>
													</lightning-layout-item>
												</lightning-layout>
											</template>
										</template>
									</td>
									<td>
										<lightning-icon
											icon-name={ct.itemCompletionIcon}
											variant={ct.itemCompletionIconVariant}
											size="x-small"
										></lightning-icon>
									</td>
								</tr>
							</template>
						</tbody>
					</table>
				</section>
				<template if:true={showErrorList}>
					<div class="slds-p-horizontal_large slds-var-p-vertical_small">
						<div class="slds-box">
							<p class="slds-var-p-bottom_small slds-text-color_error slds-hyphenate">
								<em>
									A total of&nbsp;
									<lightning-formatted-number value={totalErrors}> </lightning-formatted-number>
									&nbsp;error(s) occurred while executing the selected Demo Cleanup Tasks. Scroll through the list
									to see all of them.
								</em>
							</p>
							<div class="slds-scrollable scrollerSize">
								<lightning-datatable
									columns={errorListColumns}
									data={errorList}
									key-field="id"
									hide-checkbox-column="true"
									aria-label="List of errors generated by the Demo Cleanup run"
								></lightning-datatable>
							</div>
						</div>
					</div>
				</template>

				<section class="slds-p-horizontal_large slds-p-vertical_x-small">
					<lightning-layout multiple-rows="false" horizontal-align="spread" vertical-align="center">
						<lightning-layout-item size="6">
							<strong>
								Total Records: &nbsp;
								<lightning-formatted-number value={totalRecordsSelected}> </lightning-formatted-number>
							</strong>
						</lightning-layout-item>
						<lightning-layout-item size="6">
							<lightning-button
								class="slds-float_right"
								variant="destructive"
								disabled={cleanupButtonDisabled}
								label="Clean Up the Demo"
								icon-name="utility:bucket"
								onclick={showModal}
							></lightning-button>
						</lightning-layout-item>
					</lightning-layout>
				</section>
			</template>
		</template>

		<template if:true={cleanupTasksEmpty}>
			<div class="slds-illustration slds-illustration_small">
				<!-- prettier-ignore -->
				<svg class="slds-illustration__svg slds-var-p-top_medium" viewBox="0 0 470 229" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
						<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
						  <g transform="translate(-65.000000, -89.000000)">
							<g>
							  <g transform="translate(67.000000, 266.000000)">
								<path vector-effect="non-scaling-stroke" d="M16,36.5 L466,36.5" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round"></path>
								<path vector-effect="non-scaling-stroke" d="M0,36.5 L6,36.5" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round"></path>
								<polyline vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" points="43 36 87.5 0 121.5 27"></polyline>
								<polyline vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" points="111 17 121.5 9 153 36"></polyline>
								<path vector-effect="non-scaling-stroke" d="M50.962964,14.4391572 L57,36 L45.770218,26.1063642 L49.037036,14.4391572 C49.1859485,13.9073269 49.7377996,13.5969106 50.2696299,13.7458231 C50.6059625,13.8399963 50.8687909,14.1028246 50.962964,14.4391572 Z"
								  class="slds-illustration__fill-secondary" transform="translate(51.385109, 24.626882) scale(-1, 1) translate(-51.385109, -24.626882) "></path>
							  </g>
							  <g transform="translate(451.500000, 238.500000)">
								<g fill="#FFFFFF">
								  <path vector-effect="non-scaling-stroke" d="M18.9209988,1.95433401 L33.259296,51.443436 C33.5666778,52.5043744 32.9557995,53.613617 31.8948612,53.9209988 C31.7139843,53.9734036 31.5266126,54 31.3382972,54 L2.6617028,54 C1.5571333,54 0.661702805,53.1045695 0.661702805,52 C0.661702805,51.8116846 0.688299176,51.6243129 0.74070397,51.443436 L15.0790012,1.95433401 C15.386383,0.893395645 16.4956256,0.282517358 17.556564,0.589899164 C18.2152102,0.780726338 18.7301717,1.29568777 18.9209988,1.95433401 Z"></path>
								</g>
								<g class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3">
								  <polygon vector-effect="non-scaling-stroke" stroke-linejoin="round" points="17 0.323943662 34 54 -1.81721305e-12 54"></polygon>
								  <path vector-effect="non-scaling-stroke" d="M17,4.6953125 C17,43.0456294 17,62.6471919 17,63.5 C17,62.6471919 17,43.0456294 17,4.6953125 Z"></path>
								  <path vector-effect="non-scaling-stroke" d="M17,29.3239437 C22.3333333,35.7851611 25,39.1184944 25,39.3239437 C25,39.1184944 22.3333333,35.7851611 17,29.3239437 Z" stroke-linejoin="round" transform="translate(21.000000, 34.323944) scale(-1, 1) translate(-21.000000, -34.323944) "></path>
								</g>
							  </g>
							  <g transform="translate(408.000000, 205.500000)">
								<g transform="translate(1.000000, 0.000000)" fill="#FFFFFF">
								  <path vector-effect="non-scaling-stroke" d="M25.6478873,0 L50.879042,84.4273253 C51.1953215,85.4856452 50.5937789,86.5999782 49.535459,86.9162577 C49.3496374,86.9717906 49.1567264,87 48.9627843,87 L2.33299037,87 C1.22842087,87 0.332990367,86.1045695 0.332990367,85 C0.332990367,84.8060578 0.361199757,84.6131469 0.416732643,84.4273253 L25.6478873,0 Z"></path>
								</g>
								<g class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3">
								  <polygon vector-effect="non-scaling-stroke" stroke-linejoin="round" points="26.5 0 52.5 87 0.5 87"></polygon>
								  <path vector-effect="non-scaling-stroke" d="M26.5,3.58642578 C26.5,64.0261034 26.5,94.9972948 26.5,96.5 C26.5,94.9972948 26.5,64.0261034 26.5,3.58642578 Z"></path>
								  <path vector-effect="non-scaling-stroke" d="M15.6478873,42 C22.9812207,49.078692 26.6478873,52.7453587 26.6478873,53 C26.6478873,52.7453587 22.9812207,49.078692 15.6478873,42 Z" stroke-linejoin="round"></path>
								  <path vector-effect="non-scaling-stroke" d="M27.6478873,68 C36.9812207,57.078692 41.6478873,51.7453587 41.6478873,52 C41.6478873,51.7453587 36.9812207,57.078692 27.6478873,68 Z" stroke-linejoin="round"></path>
								</g>
							  </g>
							  <g transform="translate(323.317280, 164.835938) rotate(-45.000000) translate(-323.317280, -164.835938) translate(242.317280, 130.835938)">
								<g transform="translate(5.000000, 44.000000)" fill="#FFFFFF">
								  <path vector-effect="non-scaling-stroke" d="M4.18947979,0.995611783 L0.115234375,11.9555255 C12.0957996,19.4577143 18.3338849,23.301537 18.8294904,23.4869936 C19.1669204,23.6132606 21.7612542,24.0399819 26.9701953,23.7763273 C28.5980425,23.6939326 31.6346656,23.3623612 36.0800647,22.7816131 C40.0461992,21.6828201 43.0275796,20.7161876 45.0242059,19.8817158 C47.0208321,19.0472439 50.3465588,17.377878 55.0013859,14.8736182 L47.5277368,3.21878589 L4.18947979,0.995611783 Z"></path>
								</g>
								<g transform="translate(1.000000, 0.000000)" class="slds-illustration__fill-secondary">
								  <rect class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" x="0.973240311" y="10.995821" width="11.5" height="12"></rect>
								  <path vector-effect="non-scaling-stroke" d="M4.77755146,50.2284782 C13.286202,52.6362568 21.480957,53.7936597 29.3618164,53.7006867 C37.2426758,53.6077138 44.7765582,51.7400968 51.9634637,48.0978356 C50.0751252,44.4670451 48.7826758,41.7898449 48.0861155,40.0662351 C47.3895551,38.3426252 46.5236255,35.6790055 45.4883267,32.075376 L45.2946319,0.293204959 L12.5695367,0.148192827 L12.5726441,32.0166806 C11.5738974,36.4623212 10.6196945,39.7477667 9.71003558,41.8730172 C8.80037666,43.9982676 7.15621528,46.7834213 4.77755146,50.2284782 Z"></path>
								  <path vector-effect="non-scaling-stroke" d="M45.4341011,10.7997716 L160.934101,10.7997716 L160.934101,29.2075859 C138.796894,24.9149057 121.296894,22.8695992 108.434101,23.0716664 C103.947529,23.0716664 96.9638862,23.0716664 87.4831733,23.0716664 L45.4341011,23.0716664 L45.4341011,10.7997716 Z"></path>
								</g>
								<g transform="translate(0.000000, 0.000000)">
								  <path vector-effect="non-scaling-stroke" d="M13.5015145,4.53816197e-13 L46.505417,4.53816197e-13 L46.505417,24.0516129 C46.0805407,29.6108858 47.016166,35.1227138 49.312293,40.5870968 C51.6084201,46.0514798 55.1733269,52.064383 60.0070135,58.6258065 C49.5057718,64.6387097 39.5045892,67.6451613 30.0034658,67.6451613 C20.5023423,67.6451613 10.5011597,64.6387097 -8.20017976e-05,58.6258065 C5.7540776,50.5948062 9.47046374,44.581903 11.1490764,40.5870968 C12.8276891,36.5922906 13.6118351,31.0804626 13.5015145,24.0516129 L13.5015145,4.53816197e-13 Z"
									class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
								  <rect class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" x="1.97324031" y="10.995821" width="11.5" height="12"></rect>
								  <path vector-effect="non-scaling-stroke" d="M46.4341011,10.7997716 L161.934101,10.7997716 L161.934101,29.2075859 C139.796894,24.9149057 122.296894,22.8695992 109.434101,23.0716664 C104.947529,23.0716664 97.9638862,23.0716664 88.4831733,23.0716664 L46.4341011,23.0716664 L46.4341011,10.7997716 Z"
									class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
								  <polygon vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" points="66 10.5225806 102 10.5225806 102.162282 23.0225806 66.0542614 22.8973803"></polygon>
								</g>
							  </g>
							  <g transform="translate(124.000000, 219.518658)">
								<g transform="translate(117.000000, 0.000000)" fill="#FFFFFF">
								  <polygon vector-effect="non-scaling-stroke" points="0.115234375 0.823139211 0.115234375 6.95790484 131.128906 21.124897 131.128906 14.975483"></polygon>
								</g>
								<g transform="translate(95.000000, 4.000000)" class="slds-illustration__fill-secondary">
								  <polygon vector-effect="non-scaling-stroke" points="21.9667969 0.213764211 152.662109 14.9813423 152.662109 65.9637642 160.867188 80.1434517 174.628906 92.3211861 0.63671875 92.3211861 13.7480469 80.1434517 21.9667969 61.2977486"></polygon>
								</g>
								<g>
								  <path vector-effect="non-scaling-stroke" d="M118.5,15.4813423 L118.5,61.4813423 C117.921224,71.8381104 115.333984,79.318309 110.738281,83.921938 C106.142578,88.525567 100.896484,92.8787018 95,96.9813423 L271,96.9813423 C264.389323,92.6555667 259.341797,87.3824891 255.857422,81.1621094 C252.373047,74.9417297 250.253906,67.5264029 249.5,58.916129 L249.5,0.481342336 L118.5,15.4813423 Z"
									class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" transform="translate(183.000000, 48.731342) scale(-1, 1) translate(-183.000000, -48.731342) "></path>
								  <path vector-effect="non-scaling-stroke" d="M271.928751,76.7784845 L280,97 L262,97 L270.071249,76.7784845 C270.275982,76.2655493 270.857768,76.0157027 271.370703,76.2204365 C271.625359,76.3220801 271.827108,76.5238291 271.928751,76.7784845 Z"
									class="slds-illustration__fill-primary"></path>
								  <path vector-effect="non-scaling-stroke" d="M282.428751,84.2946136 L287.5,97 L275.5,97 L280.571249,84.2946136 C280.775982,83.7816784 281.357768,83.5318318 281.870703,83.7365656 C282.125359,83.8382092 282.327108,84.0399581 282.428751,84.2946136 Z"
									class="slds-illustration__fill-primary"></path>
								  <path vector-effect="non-scaling-stroke" d="M90.4287513,76.7784845 L98.5,97 L80.5,97 L88.5712487,76.7784845 C88.7759825,76.2655493 89.3577681,76.0157027 89.8707033,76.2204365 C90.1253588,76.3220801 90.3271077,76.5238291 90.4287513,76.7784845 Z"
									class="slds-illustration__fill-primary" transform="translate(89.500000, 86.998788) scale(-1, 1) translate(-89.500000, -86.998788) "></path>
								  <path vector-effect="non-scaling-stroke" d="M76.9287513,84.2946136 L82,97 L70,97 L75.0712487,84.2946136 C75.2759825,83.7816784 75.8577681,83.5318318 76.3707033,83.7365656 C76.6253588,83.8382092 76.8271077,84.0399581 76.9287513,84.2946136 Z"
									class="slds-illustration__fill-primary" transform="translate(76.000000, 90.756853) scale(-1, 1) translate(-76.000000, -90.756853) "></path>
								  <path vector-effect="non-scaling-stroke" d="M20,96.9813423 L370,96.9813423" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
								  <path vector-effect="non-scaling-stroke" d="M0,96.9813423 L12,96.9813423" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
								  <path vector-effect="non-scaling-stroke" d="M226.5,14.4813423 L226.5,40.4813423 C226.854167,55.9423134 234.6875,67.6089801 250,75.4813423" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
								  <path vector-effect="non-scaling-stroke" d="M212.5,12.4813423 L212.5,51.4813423 C211.329427,75.4461105 226.830078,87.4461105 259.001953,87.4813423" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round"
									stroke-linejoin="round"></path>
								  <path vector-effect="non-scaling-stroke" d="M190.5,9.48134234 L190.5,96.4813423" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
								  <path vector-effect="non-scaling-stroke" d="M160.5,5.48134234 L160.5,96.4813423" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
								  <path vector-effect="non-scaling-stroke" d="M148.5,4.48134234 L148.5,60.4813423 C148.166667,84.3362203 131.634766,96.2636593 98.9042969,96.2636593" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round"
									stroke-linejoin="round"></path>
								  <path vector-effect="non-scaling-stroke" d="M131.5,2.48134234 L131.5,54.2203125 C132.691406,76.2363071 124.326172,87.2443044 106.404297,87.2443044" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round"
									stroke-linejoin="round"></path>
								</g>
							  </g>
							  <g transform="translate(160.000000, 107.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3">
								<path vector-effect="non-scaling-stroke" d="M44,17.5 L63,17.5 C62.2789714,12.0723971 64.081543,7.53186978 68.4077148,3.87841797 C73.3754883,-0.195556641 79.2734375,0.717773438 82.440918,2.12353516 C85.6083984,3.52929687 87.9606934,5.46069336 89.5913086,9.10524041 C90.2822266,10.6397351 90.7517904,11.9379883 91,13"></path>
								<path vector-effect="non-scaling-stroke" d="M83,20.5 C84.0558268,16.8461914 86.2227376,14.4572754 89.5007324,13.333252 C94.4177246,11.6472168 99.0800781,13.8925781 100.942383,16.1518555 C102.804687,18.4111328 103.39502,20.2260742 103.746582,22.1201172 C103.980957,23.3828125 104.06543,24.8427734 104,26.5 C108.141764,26.3313802 110.918945,27.1647135 112.331543,29 C114.040039,31.1936035 114.215332,33.817627 113.593018,35.75 C112.970703,37.682373 110.894531,40.5 107,40.5 L28,40.5"></path>
								<path vector-effect="non-scaling-stroke" d="M18,27.5 L83.0004985,27.5"></path>
								<path vector-effect="non-scaling-stroke" d="M0,27.5 L8,27.5"></path>
							  </g>
							  <g transform="translate(319.000000, 147.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3">
								<path vector-effect="non-scaling-stroke" d="M44,17.5 L63,17.5 C62.2789714,12.0723971 64.081543,7.53186978 68.4077148,3.87841797 C73.3754883,-0.195556641 79.2734375,0.717773438 82.440918,2.12353516 C85.6083984,3.52929687 87.9606934,5.46069336 89.5913086,9.10524041 C90.2822266,10.6397351 90.7517904,11.9379883 91,13"></path>
								<path vector-effect="non-scaling-stroke" d="M83,20.5 C84.0558268,16.8461914 86.2227376,14.4572754 89.5007324,13.333252 C94.4177246,11.6472168 99.0800781,13.8925781 100.942383,16.1518555 C102.804687,18.4111328 103.39502,20.2260742 103.746582,22.1201172 C103.980957,23.3828125 104.06543,24.8427734 104,26.5 C108.141764,26.3313802 110.918945,27.1647135 112.331543,29 C114.040039,31.1936035 114.215332,33.817627 113.593018,35.75 C112.970703,37.682373 110.894531,40.5 107,40.5 L28,40.5"></path>
								<path vector-effect="non-scaling-stroke" d="M18,27.5 L83.0004985,27.5"></path>
								<path vector-effect="non-scaling-stroke" d="M0,27.5 L8,27.5"></path>
							  </g>
							  <g transform="translate(179.000000, 216.518658)">
								<g transform="translate(6.000000, 2.000000)" fill="#FFFFFF">
								  <path vector-effect="non-scaling-stroke" d="M20.8180195,40.0662428 L20.8180195,3.98882348 C14.8180195,9.37296043 11.8180195,15.3858637 11.8180195,22.0275332 C11.8180195,28.6692027 14.8180195,34.6821059 20.8180195,40.0662428 Z" transform="translate(16.318019, 22.027533) scale(-1, -1) rotate(-45.000000) translate(-16.318019, -22.027533) "></path>
								  <path vector-effect="non-scaling-stroke" d="M38.0732996,21.3284985 L38.0732996,-1.21988855 C34.3232996,2.14519704 32.4482996,5.90326156 32.4482996,10.054305 C32.4482996,14.2053484 34.3232996,17.963413 38.0732996,21.3284985 Z" transform="translate(35.260800, 10.054305) scale(1, -1) rotate(-45.000000) translate(-35.260800, -10.054305) "></path>
								</g>
								<g transform="translate(0.000000, 6.000000)" class="slds-illustration__fill-secondary">
								  <path vector-effect="non-scaling-stroke" d="M20.8180195,42.0662428 L20.8180195,5.98882348 C14.8180195,11.3729604 11.8180195,17.3858637 11.8180195,24.0275332 C11.8180195,30.6692027 14.8180195,36.6821059 20.8180195,42.0662428 Z" transform="translate(16.318019, 24.027533) rotate(-45.000000) translate(-16.318019, -24.027533) "></path>
								  <path vector-effect="non-scaling-stroke" d="M47.9262378,21.3284985 L47.9262378,-1.21988855 C44.1762378,2.14519704 42.3012378,5.90326156 42.3012378,10.054305 C42.3012378,14.2053484 44.1762378,17.963413 47.9262378,21.3284985 Z" transform="translate(45.113738, 10.054305) scale(-1, 1) rotate(-45.000000) translate(-45.113738, -10.054305) "></path>
								</g>
								<g class="slds-illustration__stroke-primary" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
								  <path vector-effect="non-scaling-stroke" d="M60,64.4813423 C42.5559896,58.4405997 33.7226563,49.4405997 33.5,37.4813423 L33.5,0.481342336"></path>
								  <path vector-effect="non-scaling-stroke" d="M19.5,44.8774194 C25.5,39.4932824 28.5,33.4803792 28.5,26.8387097 C28.5,20.1970402 25.5,14.1841369 19.5,8.8 C13.5,14.1841369 10.5,20.1970402 10.5,26.8387097 C10.5,33.4803792 13.5,39.4932824 19.5,44.8774194 Z"
									transform="translate(19.500000, 26.838710) rotate(-45.000000) translate(-19.500000, -26.838710) "></path>
								  <path vector-effect="non-scaling-stroke" d="M43.125,25.3354839 C46.875,21.9703983 48.75,18.2123338 48.75,14.0612903 C48.75,9.91024688 46.875,6.15218236 43.125,2.78709677 C39.375,6.15218236 37.5,9.91024688 37.5,14.0612903 C37.5,18.2123338 39.375,21.9703983 43.125,25.3354839 Z"
									transform="translate(43.125000, 14.061290) scale(-1, 1) rotate(-45.000000) translate(-43.125000, -14.061290) "></path>
								</g>
							  </g>
							</g>
						  </g>
						</g>
				</svg>
				<div class="slds-var-p-around_large slds-text-longform">
					<h3 class="slds-text-heading_medium">You have a little work to do</h3>
					<div class="slds-var-p-bottom_medium slds-text-body_regular slds-text-align_center">
						You do not have any active Demo Cleanup Tasks, so I don't know how to clean up your org.
						<br />
						You can create new tasks or re-activate any that you may already have from the Demo Cleanup Tasks tab.
					</div>
					<lightning-button
						variant="brand"
						label="Take Me There"
						title="Go to the Demo Cleanup Tasks tab"
						onclick={handleGoToDemoCleanupTasksButton}
					>
					</lightning-button>
				</div>
			</div>
		</template>

		<template if:true={helpSectionVisible}>
			<section class="slds-p-horizontal_large">
				<lightning-tile class="slds-tile_board slds-box slds-theme_shade">
					<lightning-icon slot="media" icon-name="utility:info"> </lightning-icon>
					<h2><strong>Motivation</strong></h2>
					<p class="slds-p-top_small slds-hyphenate">
						You know how demos often get cluttered with artifacts from previous demo or test runs? Records are created
						and never get cleaned up, leaving you wondering long afterwards whether or not they are necessary for the
						demo scenarios or if they can be cleared away. This component allows you to clean up the org between demos
						so that any future demo can be started with a clean environment, deleting any records that were created by
						previous demos, dry runs, or tests, and optionally executing any custom code or flows to reset the state of
						the org.
					</p>
					<h2 class="slds-p-top_large"><strong>How It Works</strong></h2>
					<p class="slds-p-top_small slds-hyphenate">
						The component is driven by a series of Demo Cleanup Tasks which you create. These tasks fall into three
						categories:
					</p>
					<ul class="slds-list_dotted slds-p-top_small slds-hyphenate">
						<li>
							<strong>SOQL tasks</strong> delete records of an object that match an optional&nbsp;
							<span class="slds-text-font_monospace">WHERE</span> &nbsp;clause that you create. For example, records
							that have been hand-crafted for a demo scenario or those that have been uploaded in bulk for use in
							analytics dashboards might be tagged with custom checkbox fields to indicate that they are to be
							retained. Any other records of that object not so tagged would then be considered to be a by-product of
							a demo run and could be safely deleted.
						</li>
						<li>
							<strong>Apex tasks</strong> run an Apex class that you specify. The class must implement the&nbsp;
							<span class="slds-text-font_monospace">DemoCleanupApexItem</span> &nbsp;interface. These can be useful
							for resetting demo parameters that do not involve deleting records, such as activating or deactivating
							users.
						</li>
						<li>
							<strong>Flow tasks</strong> run an autolaunched flow that you specify. The component passes the Id of
							the task into the flow through the&nbsp;
							<span class="slds-text-font_monospace">DemoCleanupTaskId</span> &nbsp;input variable, so if the flow
							needs to access any of the fields in the cleanup task, you should define that variable in the RESOURCES
							section of the flow.
						</li>
					</ul>
					<p class="slds-p-top_small slds-hyphenate">
						To set up a SOQL cleanup task, just navigate to the&nbsp;
						<lightning-formatted-url value={cleanupTaskListViewUrl} label="Demo Cleanup Tasks tab" target="_parent">
						</lightning-formatted-url>
						&nbsp;and create as many tasks as you need (although no more than 90 SOQL tasks can be active at any given
						time). Each one will require a description, which will appear in the task list, the API name of the object
						whose records you want to delete, and a&nbsp;
						<lightning-formatted-url
							label="SOQL WHERE clause expression"
							value="https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_soql_select_conditionexpression.htm"
							target="_parent"
						>
						</lightning-formatted-url>
						&nbsp;to specify which records of that object should be deleted. Additionally, you can specify whether or
						not the records bypass the&nbsp;
						<lightning-formatted-url
							label="recycle bin"
							value="https://help.salesforce.com/articleView?id=recycle_bin.htm&amp;type=5"
						>
						</lightning-formatted-url>
						, resulting in a permanent deletion. Finally, you can choose to activate or deactivate the task to specify
						whether or not it appears in the list of available tasks in the component.
					</p>
					<p class="slds-p-top_small slds-hyphenate">
						Power users wishing to create Apex tasks can choose the Apex cleanup task record type and fill in the name
						of an Apex class. The Apex class must implement the&nbsp;
						<span class="slds-text-font_monospace">DemoCleanupApexItem</span> &nbsp; interface.
					</p>
					<p class="slds-p-top_small slds-hyphenate">
						Those users who wish to invoke flows may choose the Flow cleanup task record type and fill in the API name
						of the flow to execute.
					</p>
					<h2 class="slds-p-top_large"><strong>Guardrails</strong></h2>
					<p class="slds-p-top_small slds-hyphenate">
						Several precautions are taken to ensure that only the records you want to delete are deleted.
					</p>
					<p class="slds-p-top_small slds-hyphenate">
						First, the [New] and [Edit] actions on the Demo Cleanup Tasks list view will not create or update a task
						without first validating its correctness.
					</p>
					<p class="slds-p-top_small slds-hyphenate">
						Second, the component populates the <strong>Records</strong> column in the component by running a test query
						using the object API name and SOQL&nbsp; <span class="slds-text-font_monospace">WHERE</span> &nbsp;clause
						expression you supplied for each SOQL Demo Cleanup Task. If any are in error, the component will display an
						error message and disable the checkbox for that task. You should always check the record counts for each of
						the Demo Cleanup Tasks to make sure that a suspiciously large number of records is not being deleted.
					</p>
					<p class="slds-p-top_small slds-hyphenate">
						Third, all SOQL Demo Cleanup Tasks are checked to make sure that no two tasks try to clean up the same
						object, since one task will clobber records considered safe by the second and vice versa. Any subsequent
						Demo Cleanup Tasks using the same object will not be executed and their checkboxes will not be selectable.
						The way to fix this is to combine the duplicate tasks into a single record and use an appropriate WHERE
						clause that covers the combined conditions. You can also deselect the checkbox called "Check for Reused
						Objects" in the component's configuration section in Lightning App Builder.
					</p>
					<p class="slds-p-top_small slds-hyphenate">
						Fourth, each SOQL Demo Cleanup Task has a&nbsp;
						<lightning-icon icon-name="utility:preview" size="x-small"></lightning-icon>
						&nbsp;icon which can be clicked to reveal the list of records that will be deleted by that task.
					</p>
					<p class="slds-p-top_small slds-hyphenate">
						Finally, a modal dialog will pop up when you click the <strong>Clean Up the Demo</strong> button, confirming
						the actions that will be taken and giving you one last chance to reconsider.
					</p>
					<h2 class="slds-p-top_large"><strong>Reference</strong></h2>
					<p class="slds-p-top_small slds-hyphenate">
						You can always find the latest version of this component, along with more documentation and all of its
						source code, in&nbsp;
						<lightning-formatted-url
							label="this GitHub repository"
							value="https://github.com/SFDC-Assets/Demo-Cleanup"
							target="_parent"
						>
						</lightning-formatted-url>
						.
					</p>
				</lightning-tile>
			</section>
		</template>
	</lightning-card>

	<template if:true={confirmationModalVisible}>
		<section
			role="dialog"
			tabindex="-1"
			class="slds-modal slds-fade-in-open slds-modal_small"
			aria-modal="true"
			aria-labelledby="modal-heading"
			aria-describedby="modal-content"
		>
			<div class="slds-modal__container">
				<header class="slds-modal__header slds-p-around_medium">
					<lightning-button-icon
						icon-name="utility:close"
						size="large"
						variant="bare-inverse"
						class="slds-modal__close"
						title="Close this window"
						onclick={handleCancelButton}
					></lightning-button-icon>
					<div class="slds-media slds-media_center">
						<div class="slds-media__figure slds-p-horizontal_medium">
							<lightning-icon icon-name="utility:warning" variant="warning" size="medium"></lightning-icon>
						</div>
						<div class="slds-media__body">
							<p class="slds-text-align_center slds-text-heading_medium">
								<strong>Are You Sure?</strong>
							</p>
						</div>
					</div>
				</header>
				<div class="slds-modal__content">
					<p class="slds-p-around_large slds-hyphenate">
						<template if:true={totalRecordsSelected}>
							You are about to delete&nbsp;
							<strong>
								<lightning-formatted-number
									value={totalRecordsSelected}
									class="slds-text-color_destructive"
								></lightning-formatted-number>
							</strong>
							&nbsp;record(s). &nbsp;
						</template>
						<template if:true={totalRecycleRecordsSelected}>
							<strong>
								<lightning-formatted-number
									value={totalRecycleRecordsSelected}
									class="slds-text-color_destructive"
								></lightning-formatted-number>
							</strong>
							&nbsp;record(s) will remain in the&nbsp;
							<lightning-formatted-url
								label="recycle bin"
								value="https://help.salesforce.com/articleView?id=recycle_bin.htm&amp;type=5"
							></lightning-formatted-url>
							&nbsp;for up to 15 days, subject to the usual size limits of the bin.&nbsp;
						</template>
						<template if:true={totalPermanentRecordsSelected}>
							<strong>
								<lightning-formatted-number
									value={totalPermanentRecordsSelected}
									class="slds-text-color_destructive"
								></lightning-formatted-number>
							</strong>
							&nbsp;record(s) will be deleted immediately and permanently.&nbsp;
						</template>
						<template if:true={totalApexItemsSelected}>
							<strong>
								<lightning-formatted-number value={totalApexItemsSelected} class="slds-text-color_destructive">
								</lightning-formatted-number>
							</strong>
							&nbsp;Apex class(es) will be executed.&nbsp;
						</template>
						<template if:true={totalFlowItemsSelected}>
							<strong>
								<lightning-formatted-number value={totalFlowItemsSelected} class="slds-text-color_destructive">
								</lightning-formatted-number>
							</strong>
							&nbsp;autolaunched flow(s) will be executed.
						</template>
					</p>
				</div>
				<footer class="slds-modal__footer">
					<lightning-button
						class="slds-p-right_medium"
						icon-name="utility:close"
						label="Cancel"
						variant="neutral"
						onclick={handleCancelButton}
					></lightning-button>
					<lightning-button
						icon-name="utility:bucket"
						label="Clean Up the Demo"
						variant="destructive"
						onclick={handleCleanupButton}
					></lightning-button>
				</footer>
			</div>
		</section>
		<div class="slds-backdrop slds-backdrop_open"></div>
	</template>

	<template if:true={previewModalVisible}>
		<section
			role="dialog"
			tabindex="-1"
			class="slds-modal slds-fade-in-open slds-modal_small"
			aria-modal="true"
			aria-labelledby="modal-heading"
			aria-describedby="modal-content"
		>
			<div class="slds-modal__container">
				<header class="slds-modal__header slds-p-horizontal_medium">
					<lightning-button-icon
						icon-name="utility:close"
						size="large"
						variant="bare-inverse"
						class="slds-modal__close"
						title="Close this window"
						onclick={handlePreviewCancelButton}
					></lightning-button-icon>
					<div class="slds-media slds-media_center">
						<div class="slds-media__figure slds-p-horizontal_medium">
							<lightning-icon icon-name="utility:warning" variant="warning" size="large"></lightning-icon>
						</div>
						<div class="slds-media__body">
							<div class="slds-p-around_large slds-text-heading_medium slds-text-align_left">
								Selecting&nbsp;
								<lightning-formatted-url
									label={previewTaskDescription}
									value={previewTaskLink}
									target="_parent"
								></lightning-formatted-url>
								&nbsp;will delete the following records:
							</div>
						</div>
					</div>
				</header>
				<section class="slds-modal__content slds-p-around_medium">
					<p class="slds-var-p-bottom_small slds-text-body_small slds-text-color_weak slds-text-align_left slds-trucate">
						<em>
							<strong>Note:</strong> &nbsp;Child objects in a master-detail relationship will not have an&nbsp;
							<strong>Owner</strong> &nbsp;field.
						</em>
					</p>
					<div class="slds-tile_board slds-box slds-box_xx-small previewTableHeight">
						<lightning-datatable
							data={previewList}
							columns={previewListColumns}
							key-field="itemId"
							hide-checkbox-column
							show-row-number-column
							enable-infinite-loading
							column-widths-mode="auto"
							onloadmore={handlePreviewLoadMore}
							class="previewTable"
							aria-label="List of record previews"
						></lightning-datatable>
					</div>
					<div class="slds-var-p-top_medium slds-text-body_small">
						<p class="slds-text-color_weak slds-align_absolute-center">
							Showing&nbsp;
							<strong><lightning-formatted-number value={previewRowsShowing}></lightning-formatted-number></strong>
							&nbsp;of&nbsp;
							<strong><lightning-formatted-number value={previewTotalRows}></lightning-formatted-number></strong>
							&nbsp;records
						</p>
						<template if:true={previewTooManyRows}>
							<p class="slds-text-color_error slds-align_absolute-center">
								<em> Only the first&nbsp; </em>
								<lightning-formatted-number value="2000"></lightning-formatted-number>
								<em> &nbsp;rows will be shown </em>
							</p>
						</template>
					</div>
				</section>
				<footer class="slds-modal__footer">
					<lightning-button
						icon-name="utility:close"
						label="Close"
						variant="neutral"
						onclick={handlePreviewCancelButton}
					></lightning-button>
				</footer>
			</div>
		</section>
		<div class="slds-backdrop slds-backdrop_open"></div>
	</template>
</template>
